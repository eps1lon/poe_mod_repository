!function(e){this.RollableMod=ApplicableMod.extend({init:function(e){this._super(e),this.resetSpawnable(),this.rollable=RollableMod.UNSCANNED},applicableByteHuman:function(){return ByteSet.human(this.applicable_byte,RollableMod.APPLICABLE_BYTE,RollableMod.APPLICABLE_BYTE.SUCCESS,"RollableMod.applicable_byte")},spawnableOn:function(a,l){l===e?l=Spawnable.SUCCESS:l|=Spawnable.SUCCESS;var t=$(this.valueAsArray("SpawnWeight_TagsKeys")).filter(a.getTags()).toArray();return this.resetSpawnable(),0===t.length?(this.spawnable_byte=RollableMod.SPAWNABLE_BYTE.NO_MATCHING_TAGS,!1):(this.spawnweight=this.valueAsArray("SpawnWeight_Values")[this.valueAsArray("SpawnWeight_TagsKeys").indexOf(t[0])],this.spawnweight<=0&&(this.spawnweight=0,this.spawnable_byte|=RollableMod.SPAWNABLE_BYTE.SPAWNWEIGHT_ZERO),this.spawnable_byte||(this.spawnable_byte=Spawnable.SUCCESS),!ByteSet.byteBlacklisted(this.spawnable_byte,l))},humanSpawnchance:function(a){if(a===e&&(a=2),null===this.spawnchance)return"null";var l=0;return this.applicableCached()&&(l=this.spawnchance),(100*l).toFixed(a)+"%"},resetSpawnable:function(){this.spawnweight=0,this.spawnchance=null,this.spawnable_byte=Spawnable.UNSCANNED},spawnableByteHuman:function(){return ByteSet.human(this.spawnable_byte,RollableMod.SPAWNABLE_BYTE,RollableMod.SPAWNABLE_BYTE.SUCCESS,"RollableMod.spawnable_byte")},spawnableCached:function(){return!ByteSet.byteBlacklisted(this.spawnable_byte,Spawnable.SUCCESS)},rollableOn:function(e){return this.rollable=this.applicableTo(e)&&this.spawnableOn(e),this.rollable},serialize:function(){return{klass:"RollableMod",args:[this.props]}},rollableCached:function(){return this.spawnableCached()&&this.applicableCached()}}),this.RollableMod.SPAWNABLE_BYTE={UNSCANNED:0,SUCCESS:1,NO_MATCHING_TAGS:2,SPAWNWEIGHT_ZERO:4},this.RollableMod.APPLICABLE_BYTE=ApplicableMod.APPLICABLE_BYTE,this.RollableMod.UNSCANNED=0,this.RollableMod.SUCCESS=!0}();