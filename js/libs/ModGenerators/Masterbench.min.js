!function(t){this.Masterbench=ModGenerator.extend({init:function(t,n){this.craftingbenchoptions=$.map(MasterMod.craftingbenchoptions,function(t){return+t.NPCMasterKey===n?t:null});var r=this;this._super($.map(t,function(t){if(+t.Domain===Mod.DOMAIN.MASTER){var n=$.grep(r.craftingbenchoptions,function(n){return+n.ModsKey===+t.Rows})[0];return n?new MasterMod(t,n):null}return null}),MasterMod),this.chosen_mod=null},applyTo:function(n,r){var e,i,a=this.craftingbenchoptions[r];return a===t?!1:(e=$.grep(this.getAvailableMods(),function(t){return+t.getProp("Rows")===+a.ModsKey})[0],e instanceof MasterMod?(i=n.rarity,i===Item.RARITY.NORMAL&&(n.rarity=Item.RARITY.MAGIC),e.applicableTo(n)?n.addMod(e):(n.rarity=i,!1)):(console.log(e,"needs to be instanceof MasterMod"),!1))},applicableTo:function(t){return!0},applicableByteHuman:function(){return{strings:[],bits:[]}},mods:function(t,n){var r=t.rarity;r===Item.RARITY.NORMAL&&(t.rarity=Item.RARITY.MAGIC);var e=$.grep(this.getAvailableMods(),function(r){return r.applicableTo(t,n)});return t.rarity=r,e},map:function(t,n){var r=t.rarity;r===Item.RARITY.NORMAL&&(t.rarity=Item.RARITY.MAGIC);var e=$.map(this.getAvailableMods(),function(r){return r.applicableTo(t,n),r});return t.rarity=r,e}})}();